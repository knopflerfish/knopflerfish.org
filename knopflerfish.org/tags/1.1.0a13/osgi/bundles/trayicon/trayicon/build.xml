<?xml version="1.0"?>

<!DOCTYPE project [
  <!ENTITY bundlebuild_include  SYSTEM "../../../../ant/bundlebuild_include.xml">
]>

<project name="trayicon" default="all">

  <property name="topdir"       location="../../.."/>

  <property name = "ee.check.foundation"   value = "true"/>

  <property name="impl.pattern"
            value="org/knopflerfish/bundle/**"/>

  <property name="api.pattern"
            value="org/knopflerfish/service/trayicon/**"/>


  <path id="bundle.compile.path">
   <pathelement location="${topdir}/jars/log/log_api-1.0.0.jar"/>
   <pathelement location="resources/trayicon.jar"/>
  </path>


  <property name="bundle.description"   value="Windows Tray Icon manager. Uses code written by Jan Struyf, jan.struyf@cs.kuleuven.ac.be, http://jeans.studentenweb.org/java/trayicon/trayicon.html"/>
  <property name="bundle.name"          value="Tray Icon Manager"/>
  <property name="bundle.category"      value="service"/>
  <property name="bundle.version"       value="1.0.0"/>
  <property name="bundle.classpath"     value=".,trayicon.jar"/>
  <property name="export.package"       value="com.jeans.trayicon,org.knopflerfish.service.trayicon"/>
  <property name="import.package"       value="org.osgi.framework,org.knopflerfish.service.log"/>


  <property name="do.bundle.custom.post" value=""/>

  <target name="bundle.custom.post">
    <jar jarfile  = "${all.jar}"  update   = "true">
     <manifest>
      <attribute name  = "Bundle-NativeCode"
                 value = "TrayIcon12.dll;osname=WindowsXP;processor=x86,TrayIcon12.dll;osname=Windows2000;processor=x86,TrayIcon12.dll;osname=Windows98;processor=x86,TrayIcon12.dll;osname=Windows95;processor=x86"/>
     </manifest>
    </jar>
  </target>


  &bundlebuild_include;

</project>
