<?xml version="1.0" encoding="UTF-8"?>

<MetaData xmlns="http://www.osgi.org/xmlns/metatype/v1.0.0">

  <OCD id="org.knopflerfish.bundle.http.ocd.HttpServer"
       name="OCD for factory.HttpServer">
    <AD name="http.enabled"
	description="If true the HttpServer will try to open a socket for HTTP client."
	type="Boolean"
	id="http.enabled"
	default="true" />
    <AD name="port.http"
	description="Port number that the HTTP server will listen for http-requests on."
	type="Integer"
	id="port.http"
	default="8080" />
    <AD name="https.enabled"
	description="If true the HttpServer will try to open a socket for HTTPS client."
	type="Boolean"
	id="https.enabled"
	default="true" />
    <AD name="port.https"
	description="Port number that the HTTP server will listen for https-requests on."
	type="Integer"
	id="port.https"
	default="8443" />
    <AD name="host"
	description="This string property decides the default hostname for the server instance. If the server is running on a multihomed machine this property will be used to decide which network interface the server will listen to. If this property is not set the server will listen to all network interfaces. The default is to listen to all network interfaces."
	type="String"
	id="host" />
    <AD name="session.timeout.default"
	description="This integer property decides the default timeout in seconds for an HTTP session."
	type="Integer"
	id="session.timeout.default"
	default="1200"/>
    <AD name="connection.max"
	description="This integer property decides the maximum number of concurrent connections to the HTTP server."
	type="Integer"
	id="connection.max"
	default="50" />
    <AD name="connection.timeout"
	description="This integer property decides the timeout in seconds for a persistent connection to the HTTP server."
	type="Integer"
	id="connection.timeout"
	default="30" />
    <AD name="response.buffer.size.default"
	description="This integer property decides the default buffer size in bytes for an HTTP response. If a servlet or publisher does not exceed this buffer, the server will calculate and send the content length header in the response. If the buffer is exceeded the servlet or publisher need to set the content length header explicitly. The content length header is required for persistent connections. If the content length is unknown the server will send a connection close header. The buffer size can be set runtime by the servlet using the HttpResponse.setBufferSize() method."
	type="Integer"
	id="response.buffer.size.default"
	default="16384" />
    <AD name="service.ranking"
	description="The OSGi service ranking value to assign to this HttpService instance."
	type="Integer"
	id="service.ranking"
	default="1" />
    <AD name="dns.lookup"
	description="This boolean property decides if the server will use DNS lookup when a servlet calls the HttpServletRequest.getRemoteHost method. In some environments DNS lookup will cause the current transaction to hang for a long period of time."
	type="Boolean"
	id="dns.lookup"
	default="false" />
    <AD name="req.client.auth"
    description="Controls if client authentication shall be required or not when using https."
    type="Boolean"
    id="req.client.auth"
    default="false" />
    <AD name="org.knopflerfish.http.encoding.default"
    description="Default character encoding for server."
    type="String"
    id="org.knopflerfish.http.encoding.default"
    default="ISO-8859-1" />
    <AD name="org.knopflerfish.http.trace.enabled"
    description="Controls if HTTP request method TRACE should be allowed."
    type="Boolean"
    id="org.knopflerfish.http.trace.enabled"
    default="false" />
    <AD name="org.knopflerfish.http.limit.requestline"
    description="Defines the maximum length of an HTTP request line. This limit is also applied for HTTP header lines."
    type="Integer"
    id="org.knopflerfish.http.limit.requestline"
    default="8190" />
    <AD name="org.knopflerfish.http.limit.postsize"
    description="Defines the maximum content size for a POST request"
    type="Integer"
    id="org.knopflerfish.http.limit.postsize"
    default="-1" />
    <AD name="org.knopflerfish.http.limit.requestheaders"
    description="Defines the maximum number of headers accepted per request."
    type="Integer"
    id="org.knopflerfish.http.limit.requestheaders"
    default="100" />
  </OCD>

  <Designate factoryPid="org.knopflerfish.bundle.http.factory.HttpServer">
    <Object ocdref="org.knopflerfish.bundle.http.ocd.HttpServer"/>
  </Designate>

</MetaData>
