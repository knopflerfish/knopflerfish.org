<h1>Logcommands</h1>

<div class="abstract">
  OSGi Log service implementation.
</div>

<h2>Description</h2>
<p>
  The group contains the following commands:
</p>

<ul><li>
    <tt>memory [-help] [&lt;int&gt;] </tt></li>
  <li>
    <tt>setlevel [-help] &lt;level&gt; [&lt;bundle&gt;] ... </tt>
  </li>

  <li>
    <tt>showlevel [-help] [&lt;bundle&gt;] ... </tt></li>
  <li>
    <tt>out [-help] [-on | -off] </tt></li>
  <li>
    <tt>file [-help] [-on | -off [-size #size#] [-gen #gen#] [-flush | -noflush] </tt></li>
</ul>



<h3>memory</h3>

<p>
  The memory command is used to control the number of log entries 
  that are held in memory.
</p>

<p>
  If the command is given without any parameters the current maximum
  number of log entries is shown.
</p>

<p> 
  Show and set the number of log entries in memory.
</p>
<pre>
  memory [-help] [&lt;int&gt;]
</pre>

Parameters:
<dl><dt><b>-help</b></dt><dd>Display command help text.</dd>

  <dt><b>&lt;int&gt;</b></dt><dd>The maximum number of log entries held in memory.
  </dd>
</dl>



<h3>setlevel</h3>


<p>
  The setlevel command is used to control what log entries are
  actually written to the log. There is one default log level
  and in addition each bundle can have its own setting. A
  log level may also be set giving a bundle short name in which
  case all bundles with this name will be logged at the given
  level. The default level is used for bundles without log
  levels of their own.</p> 

<p>
  Entries with a severity level higher or the same as the
  current default level will be logged. For example, with the
  default level set to warning, entries with level warning or
  error will be logged. 
</p>

The severity order of the levels is: 
<ul><li>
    ERROR </li>
  <li>
    Warning </li>
  <li>
    info </li>
  <li>
    debug </li>

</ul>


<p>
  Set log level.
</p>
<pre>
  setlevel [-help] &lt;level&gt; [&lt;bundle&gt;] ...
</pre>

Parameters:
<dl><dt><b>-help</b></dt><dd>Display command help text.</dd>
  <dt><b>&lt;level&gt;</b></dt><dd>The new log level. One of <tt>error</tt>,
    <tt>warning</tt>, <tt>info</tt>,
    <tt>debug</tt> or <tt>default</tt>.
  </dd>

  <dt><b>&lt;bundle&gt;</b></dt><dd>URL, short name, or id of bundle.
    A URL or bundle id must be used if wanting to set the log
    level of one specific bundle. When supplying a bundle short
    name all bundles with this name will be logged at the given level. 
    If no bundle is given the default log level is set.</dd>
</dl>



<h3> showlevel</h3>

<p>
  The showlevel command lists the default log level and the levels for
  the specified bundles, or for all bundles if no bundle is specified
  (only bundles with a level different from the default level
  are listed). 
</p>

<p>

  The output has columns for bundle id, log level and bundle
  name. A "<tt>*</tt>" in the id column indicates the
  default level, and a "<tt>-</tt>" in the same column
  indicates that the log level was set with a bundle short name
  or that the bundle is not yet installed. The bundle name
  column may contain a bundle short name or if the log level of a
  bundle not yet installed is set the bundle location will be
  displayed instead.
</p>

<p>
  Show current log levels.
</p>
<pre>
  showlevel [-help] [&lt;bundle&gt;] ...
</pre>

Parameters:
<dl><dt><b>-help</b></dt><dd>Display command help text.</dd>
  <dt><b>&lt;bundle&gt;</b></dt><dd>URL, bundle short name or id. Shows
    level for a specific bundle if a bundle id or location is
    given. When supplying a bundle short name the log level for all
    bundles with this name will be displayed.</dd>
</dl>


<b>Example:</b> Default and bundle log levels
<pre>

  logconfig&gt; setlevel warning console
  logconfig&gt; showlevel
  *  debug    (default)
  2  Warning  console
  -  Warning  console   (default)</pre>


<h3> out</h3>

<p>
  Enables printout of all log entries on standard out. The entries are
  written to the log as well. </p>

<p>The <tt> out </tt> command is disabled if no valid configuration has been
  received, that is, the Configuration Management(CM) component has
  not generated a configuration or the CM component is not available.
  See [<a href="#IG-PROD_GDSP_CP_PFM_LOG">1</a>] for further
  description of the configuration procedure.</p>

If the command is given without parameters the present setting is shown.

<p>
  Toggle printout of all log entries to standard out.
</p>

<pre>
  out [-help] [-on | -off]
</pre>

Parameters:
<dl><dt><b>-help</b></dt><dd>Display command help text.</dd>
  <dt><b>-on</b></dt><dd>Turns on writing of log entries to standard out.</dd>
  <dt><b>-off</b></dt><dd>Turns off writing of log entries to standard out.</dd>

</dl>


<h3> file</h3>
<p>
  This command controls the writing of log entries to file, the size 
  of log files, how many generations of log files to keep and whether each
  log entry should be flushed to file.
</p>

<p>The <tt> file </tt> command is disabled if no valid configuration has been
  received, that is, the Configuration Management(CM) component has
  not generated a configuration or the CM component is not
  available. See [<a href="#IG-PROD_GDSP_CP_PFM_LOG">1</a>] for further
  description of the configuration procedure.
</p>

If the command is given without parameters the present setting is shown.
<p></p>

Note that a change in log file size does not take effect until the present log file
has been filled and a new is started.

<p>
  Configures the writing of log entries to file.
</p>

<pre>
  file [-help] [-on | -off [-size #size#] [-gen #gen#] [-flush | -noflush] 
</pre>

Parameters:
<dl><dt><b>-help</b></dt><dd>Display command help text.</dd>

  <dt><b>-on</b></dt><dd>Turns on writing of log entries to file.</dd>
  <dt><b>-off</b></dt><dd>Turns off writing of log entries to file.
    <a name="B1"><a href="#F1"><sup>1</sup></a>
    </dd>
    <dt><b>-size #size#</b></dt><dd>Sets the maximum size (in characters) of a log file.</dd>
    <dt><b>-gen #gen#</b></dt><dd>Sets the number of log file generations that are kept.</dd>
    <dt><b>-flush</b></dt><dd>Turns on log file flushing after each log entry.</dd>

    <dt><b>-noflush</b></dt><dd>Turns off log file flushing after each log entry.</dd>
  </dl>

  <h2>Examples</h2>
  <p>
    Turn on writing to standard out
    <pre>
      logconfig&gt; out -on
    </pre>
  </p>
  <p>Turn on flushing of buffers after each log entry.
    <pre>
      logconfig&gt; file -flush
    </pre>
  </p>



  <h2>See Also</h2>
  <a href="file:../log/index.html">Log</a>

