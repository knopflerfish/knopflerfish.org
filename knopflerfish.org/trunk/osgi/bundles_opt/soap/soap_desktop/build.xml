<?xml version="1.0"?>

<!DOCTYPE project [
  <!ENTITY bundlebuild_include  SYSTEM "../../../../ant/bundlebuild_include.xml">
]>

<project name="soap_desktop" default="all">

  <property name="topdir"       location="../../.."/>

  <property name = "ee.check.foundation"   value = "false"/>

  <property name = "bundle.build.api"      value = "false"/>
  <property name = "bundle.build.impl"     value = "true"/>
  <property name = "bundle.build.lib"      value = "false"/>
  <property name = "bundle.build.all"      value = "false"/>
  <property name = "bundle.build.doc"      value = "true"/>

  <property name="impl.pattern"
            value="org/knopflerfish/bundle/**"/>

  <path id="bundle.compile.path">
   <pathelement location="${topdir}/jars/log/log_api-2.0.1.jar"/>
   <pathelement location="${topdir}/bundles/xml/crimson/resources/crimson.jar"/>
   <pathelement location="${topdir}/jars/desktop/desktop_api-2.0.1.jar"/>
   <pathelement location="../axis-osgi/resources/wsdl4j.jar"/>
   <pathelement location="../axis-osgi/resources/qname.jar"/>
   <pathelement location="../axis-osgi/resources/axis.jar"/>
   <pathelement location="../axis-osgi/resources/jaxrpc.jar"/>
  </path>

  &bundlebuild_include;

  <target name="run">
   <property name="wdsl.url"  value="sample.wsdl"/>
   <property name="wdsl.base" value="file:."/>

   <java classname    = "org.knopflerfish.bundle.soap.desktop.Main"
         classpathref = "bundle.compile.path"
   >
    <arg value="${wdsl.base}"/> 
    <arg value="${wdsl.url}"/> 
    <classpath>
     <pathelement location = "${impl.jar}"/>
    </classpath>
   </java>
  </target>

</project>
