<?xml version="1.0"?>

<!DOCTYPE project [
  <!ENTITY bundlebuild_include  SYSTEM "../../../../ant/bundlebuild_include.xml">
]>

<project name="restart_test" default="all">

  <property name="topdir"       location="../../.."/>

  <property name  = "api.pattern"
            value = "org/knopflerfish/service/**"/>

  <property name  = "impl.pattern"
            value = "org/knopflerfish/bundle/**"/>

  <property name = "bundle.build.api"    value = "false"/>
  <property name = "bundle.build.lib"    value = "false"/>
  <property name = "bundle.build.impl"   value = "false"/>
  <property name = "bundle.build.all"    value = "true"/>

  <property name="do.bundle.custom.pre" value="true"/>

  <target name="bundle.custom.pre">
   <copy file  = "${topdir}/jars/bundleA_test/bundleA_test_all-1.0.0.jar"         
         todir = "resources"/>
   <copy file  = "${topdir}/jars/bundleA1_test/bundleA1_test_all-1.0.1.jar"         
         todir = "resources"/>
   <copy file  = "${topdir}/jars/bundleB_test/bundleB_test_all-1.0.0.jar"         
         todir = "resources"/>
   <copy file  = "${topdir}/jars/bundleC_test/bundleC_test_all-1.0.0.jar"         
         todir = "resources"/>
   <copy file  = "${topdir}/jars/bundleF_test/bundleF_test_all-1.0.0.jar"         
         todir = "resources"/>

  </target>

  <path id="bundle.compile.path">
   <pathelement location="${topdir}/jars/junit/junit_all-1.0.0.jar"/>
   <pathelement location="${topdir}/bundles_opt/junit/junit/resources/junit.jar"/>
  </path>
  
  
  <property name="bundle.description"    value="Test bundle for framework restart"/>
  <property name="bundle.category"       value="test"/>
  <property name="bundle.vendor"         value="Knopflerfish"/>
  <property name="bundle.version"        value="1.0.0"/>

  <property name="export.package"        value="[bundle.emptystring]"/>

  &bundlebuild_include;

</project>



