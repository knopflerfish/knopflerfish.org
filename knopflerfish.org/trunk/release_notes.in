Release Notes Knopflerfish @VERSION@ (OSGi R4 v4.2)
--------------------------------------------------

  Maintenance release of Knopflerfish available from
  @DOWNLOAD_URL@

  Here follows a breakdown of the most important changes since the
  last release.


=== Framework (Core) ===

  Framework 5.0.3

  - Fixed handling of none null bootclassloader.

  - Fixed bug in lazy activation class filtering.

  - Fixed handling of org.osgi.framework.storage property on command line.

  - Merged fix of classloader problem when running on Android 7/8 from
    the kf_2_support branch. The boot-classloader of Android does not
    return the expected null as its parent classloader, it returns
    itself.


=== Services (Compendium) ===

  Event 3.0.4
  
  - Fixed infinite loop when debug logging was enabled for event admin.


=== Misc (KF specific, start scripts, build system etc) ===

  Bundlerepository 3.1.2

  - Use "http://www.knopflerfish.org/releases/current-kf_3/repository.xml"
    as the default repository URL for non-release builds. Release
    builds will use the repository of that release.


  Deploymentadmin 1.0.1

  - The version of the "org.osgi.service.deploymentadmin.spi"-package
    that this bundle exports was wrong, for OSGi R4 v4.2 the version
    should be 1.0.1 and nothing else. Note that it was only the
    version stated in the Export-Package header that was wrong.


  Desktop 3.1.2

  - The version of the "org.osgi.service.cm"-package
    that this bundle re-exports was wrong, for OSGi R4 v4.2 the version
    should be 1.3.0 and nothing else. Note that it was only the
    version stated in the Export-Package header that was wrong.
  - The version of the "org.osgi.service.event"-package
    that this bundle re-exports was wrong, for OSGi R4 v4.2 the version
    should be 1.2.0 and nothing else. Note that it was only the
    version stated in the Export-Package header that was wrong.
  - The version of the "org.osgi.service.prefs"-package
    that this bundle re-exports was wrong, for OSGi R4 v4.2 the version
    should be 1.1.1 and nothing else. Note that it was only the
    version stated in the Export-Package header that was wrong.
  - Fixed a dead-lock problem caused by a bundle listener that did
    call-backs to the framework on the event delivery thread which a
    framework implementation does not need to support.
  - The large icons displayer now scrolls to make new bundles visible
    again.
  - The set of selected bundles no longer changes when a bundle is
    started, stopped, updated, refreshed. The problem was caused by
    the bundle details displayer that fired to coarse table model
    change events when receiving bundle change events from the
    framework, causing the underlying swing table model to clear all
    selections.
  

  FW-Tray 3.0.2

  - A class loader may throw a NoClassDefFoundError when it fails to
    define a class since some class that the class to be loaded needs
    are missing. Changed the tray icon bundle to handle this, i.e., it
    now catches Throwable and not just Exception when trying to
    instanciate java.awt.SystemTray.


  HTTP-Server 3.0.1

  - The version of the "org.osgi.service.http"-package that this
    bundle exports was wrong, for OSGi R4 v4.2 the version should be
    1.2.1 and nothing else. Note that it was only the version stated
    in the Export-Package header that was wrong.


  Measurement 3.0.1

  - The version of the "org.osgi.util.measurement"-package that this
    bundle exports was wrong, for OSGi R4 v4.2 the version should be
    1.0.1 and nothing else. Note that it was only the version stated
    in the Export-Package header that was wrong.


  Position 3.0.1

  - The version of the "org.osgi.util.position"-package that this
    bundle exports was wrong, for OSGi R4 v4.2 the version should be
    1.0.1 and nothing else. Note that it was only the version stated
    in the Export-Package header that was wrong.


  Prefs (OSGi Preferences Service) 3.0.1

  - The version of the "org.osgi.service.prefs"-package that this
    bundle exports was wrong, for OSGi R4 v4.2 the version should be
    1.1.1 and nothing else. Note that it was only the version stated
    in the Export-Package header that was wrong.


  Xalan 2.7.1.kf3_01

  - Set export and import versions of javax.xml.* packages so that
    it works together with the Xerxes bundle. 


  Xml 3.0.1

  - The version of the "org.osgi.util.xml"-package that this
    bundle exports was wrong, for OSGi R4 v4.2 the version should be
    1.0.1 and nothing else. Note that it was only the version stated
    in the Export-Package header that was wrong.


  Build System

  - The BundleInfoTask now assigns versions to exported packages based
    on the version specified in the "packageinfo"-file in the
    directory that holds the classes of the package. The build will
    fail if there is a miss-match between the version given in the
    template manifest and the version in the "packageinfo"-file.
  - bundlebuild.xml now copies resources from the source tree to the
    classes tree in the compile step. The internal target that added
    resources from the source tree to the bundle jar file has been
    removed since those resources are added to the jar 

----------------------------------------------

Please read on the KF site for more information.

 http://www.knopflerfish.org/
