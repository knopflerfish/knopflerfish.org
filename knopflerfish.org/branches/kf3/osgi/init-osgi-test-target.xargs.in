#
# Startup file for executing the OSGi RI test suite
#

-Dapple.laf.useScreenMenuBar=true

#
# Act as an OSGi test director target
#
-Dorg.osgi.test.target.port=3191
-Dorg.osgi.test.broadcast=localhost
#-Dorg.osgi.test.seewait=false
#-Dorg.osgi.test.testcase.timeout=60000
-Dorg.osgi.test.watchdog=120
-Dscr.bundle.name=org.knopflerfish.bundle.component

# Specify the BundleSignerCondition.getCondition() implementation to use
-Dorg.osgi.vendor.condpermadmin=org.knopflerfish.framework

# EE used for testing
-Dorg.osgi.framework.executionenvironment=J2SE-1.4

-install file:../../osgi/tck-4.0.1/osgi.core.impls.jar
#-install file:../../osgi.ri-tck/testcond.jar
-install file:../../osgi/tck-4.0.1/osgi.target.jar

# load common properties
-xargs props.xargs


# The system bundle MUST NOT export package except those starting with "java.*"
#-Dorg.knopflerfish.framework.system.export.all=false
-Dorg.osgi.framework.system.packages.extra=org.osgi.test.cases.permissionadmin.conditional.testcond

# Avoid some problems with tck-4.0.1 conditionalpermission tests.
-Dorg.knopflerfish.framework.tck401compat=true


# Prefix for searching for bundle URLs from console or command line
-Dorg.knopflerfish.gosg.jars=$(JAR_PREFIX)
-Dorg.knopflerfish.prefs.dir=fwdir/prefsdir

-init

## Basic KF bundles
-initlevel 1
-install @log_all-N.N.N.jar@
-install @cm_all-N.N.N.jar@
-install @console_all-N.N.N.jar@
-install @component_all-N.N.N.jar@
-install @event_all-N.N.N.jar@
-install @prefs_all-N.N.N.jar@


## Some library bundles
-initlevel 2
-install @util-N.N.N.jar@
-install @crimson-N.N.N.jar@
-install @jsdk_api-N.N.N.jar@

## More basic KF bundles
-initlevel 3
-install @device_all-N.N.N.jar@
-install @useradmin_all-N.N.N.jar@

-initlevel 4
-install @http_all-N.N.N.jar@

## console command bundles
-initlevel 5
-install @frameworkcommands-N.N.N.jar@
-install @logcommands-N.N.N.jar@
-install @cm_cmd-N.N.N.jar@

-install @consoletty-N.N.N.jar@

## additional OSGi services
-initlevel 6
-install @kxml-N.N.N.jar@
-install @metatype-N.N.N.jar@
-install @kf_metatype_all-N.N.N.jar@
-install @measurement-N.N.N.jar@
-install @io_all-N.N.N.jar@
-install @position-N.N.N.jar@
-install @provisioning_api-N.N.N.jar@
-install @upnp_api-N.N.N.jar@
-install @wireadmin_api-N.N.N.jar@

-startlevel 7

# Start of these bundles are delayed since this makes start
# order dependencies much easier

-start @log_all-N.N.N.jar@
-start @crimson-N.N.N.jar@
-start @cm_all-N.N.N.jar@
-start @console_all-N.N.N.jar@
-start @component_all-N.N.N.jar@
-start @event_all-N.N.N.jar@
-start @prefs_all-N.N.N.jar@
-start @device_all-N.N.N.jar@
-start @useradmin_all-N.N.N.jar@
-start @consoletty-N.N.N.jar@
-start @frameworkcommands-N.N.N.jar@
-start @logcommands-N.N.N.jar@
-start @cm_cmd-N.N.N.jar@
-start @http_all-N.N.N.jar@
-start  @kf_metatype_all-N.N.N.jar@
-start  @measurement-N.N.N.jar@
-start  @io_all-N.N.N.jar@
-start  @position-N.N.N.jar@
-start  @provisioning_api-N.N.N.jar@
-start  @upnp_api-N.N.N.jar@
-start  @wireadmin_api-N.N.N.jar@

-start file:../../osgi/tck-4.0.1/osgi.target.jar
